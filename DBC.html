<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.545">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>dbc</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="DBC_files/libs/clipboard/clipboard.min.js"></script>
<script src="DBC_files/libs/quarto-html/quarto.js"></script>
<script src="DBC_files/libs/quarto-html/popper.min.js"></script>
<script src="DBC_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="DBC_files/libs/quarto-html/anchor.min.js"></script>
<link href="DBC_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="DBC_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="DBC_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="DBC_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="DBC_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="DBC_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="DBC_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="DBC_files/libs/datatables-binding-0.31/datatables.js"></script>
<script src="DBC_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="DBC_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="DBC_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="DBC_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="DBC_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="DBC_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<!-- ```{=html} -->
<!-- <style> -->
<!-- div.blue pre { background-color:lightblue; } -->
<!-- div.blue pre.r { background-color:"#9ac7db"; } -->
<!-- </style> -->
<!-- ``` -->
<!-- ::: blue -->
<!-- <font color='black'> -->
<!-- ```{css my-header-colors, echo = FALSE,eval=FALSE} -->
<!-- .page-header { -->
<!--      color: #fff; -->
<!--   text-align: center; -->
<!--   background-color: #9ac7db; -->
<!--     background-image: linear-gradient(120deg, #11706f, #9ac7db); -->
<!-- } -->
<!-- body { -->
<!--   /* background-color:rgb(192, 192, 192); */ -->
<!-- } -->
<!-- badCode { -->
<!-- background-color: red; -->
<!-- } -->
<!-- .list-group-item.active, .list-group-item.active:focus, .list-group-item.active:hover { -->
<!--     background-color: purple; -->
<!-- } -->
<!-- ``` -- -->
<style>
  .title-section {
    position: relative;
    background-image: url("img/corner-bg.png");  /* Substitua com o caminho para sua nova imagem */
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center; /* Centraliza a imagem vertical e horizontalmente */
    height: 75vh; /* 25% da altura da viewport */
    width: 160%; /* Largura desejada da .title-section */
    margin: auto; /* Centraliza a .title-section na horizontal */
    text-align: center;
    color: white;
    padding-bottom: 20px; /* Adiciona espaço entre .title-section e o restante do conteúdo */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start; /* Alinha o conteúdo na parte superior da .title-section */
  }
  
  h1 {
    margin-bottom: 0; /* Mantém o título no topo da .title-section */
  }
  
  .text-left,
  .text-right {
    position: absolute;
    color: white;
    font-size: 14px;
    margin: 8px;
  }
  
  .text-left {
    bottom: 0;
    left: 0;
  }
  
  .text-right {
    bottom: 0;
    right: 0;
  }
</style>
<div class="title-section">
<h1>
<font color="#878787" size="18" face="sans-serif" style="text-shadow: 4px 4px #4f2818;">Análise da produção de Leite em um Fazenda Utilizando DBC </font>
</h1>
<div class="text-left">
<p>Joseferson Barreto<br>Graduado em Estatística<br>Universidade Estadual da Paraíba</p>
</div>
<div class="text-right">
<p>Dr.&nbsp;Tiago Almeida<br>Universidade Estadual da Paraíba</p>
</div>
</div>
<!-- # <font color='black' face="Arial Black"> Relatório referente à análise de um banco de dados em DBC, utilizando parcela subdividida. </font> -->
<section id="sumário" class="level1">
<h1><font color="black" face="Arial Black"> Sumário </font></h1>
<ul>
<li><p><strong>Resumo</strong></p></li>
<li><p><strong>Introdução</strong></p></li>
<li><p><strong>Metodologia</strong></p></li>
<li><p><strong>Conclusões</strong></p></li>
<li><p><strong>Referências</strong></p></li>
</ul>
<section id="resumo" class="level2">
<h2 class="anchored" data-anchor-id="resumo"><font color="black" face="Arial Black"> Resumo </font></h2>
<p>O objetivo do presente trabalho foi desenvolver uma metodologia adequada para análise de um experimentos em parcelas subdivididas quando os tratamentos primários estão dispostos em uma estrutura de delineamento em blocos completos parcialmente balanceados. Usando o método dos mínimos quadrados foram determinadas as expressões para as várias somas de quadrados que compõem a análise de variância e a composição do teste F.</p>
</section>
<section id="introdução" class="level2">
<h2 class="anchored" data-anchor-id="introdução"><font color="black" face="Arial Black"> Introdução </font></h2>
<p>No experimento em parcelas subdivididas, as parcelas experimentais são divididas em sub parcelas. São estudados dois ou mais fatores simultaneamente, tais fatores são chamados primários, secundários e assim por diante.</p>
<p>Os fatores primários são aleatorizados nas parcelas, os secundários nas sub parcelas. O modelo linear para o experimento em parcelas subdivididas no delineamento em blocos ao acaso<br>
é dado por:</p>
<p><span class="math inline">\(yijk = µ + τi + βj + eij + θk + γik + Ɛikj\)</span></p>
<p>onde:</p>
<ul>
<li>µ é a média geral;</li>
<li>τi é o efeito do i-ésimo tratamento sobre a variável resposta;</li>
<li>βj é o efeito do j-ésimo bloco sobre a variável resposta;</li>
<li>eik é o resíduo aleatório à nível de parcelas;</li>
<li>θk é o efeito do k-ésimo sub-tratamento sobre a variável resposta;</li>
<li>γik é o efeito da interação do i-ésimo tratamento com o j-ésimo subtratamento sobre a variável resposta;</li>
<li>Ɛijk é o resíduo aleatório associado a observação yijk à nível de sub-parcelas.</li>
</ul>
<p>Neste trabalho será analisado um banco de dados fictício de um experimento em blocos casualizados, onde há 3 tipos de ração bovina (racao_comun, pasta_bovin e soja_bovina), 2 horários diferentes<br>
(manhã e tarde ) com 3 repetições em blocos casualizados.</p>
<section id="objetivo" class="level3">
<h3 class="anchored" data-anchor-id="objetivo"><font color="black" face="Arial Black"> Objetivo: </font></h3>
<p>Comparar se há diferença significativa na produção leite dependendo do tipo de alimentação fornecido as vacas e o horário do dia</p>
</section>
</section>
</section>
<section id="metodologia" class="level1">
<h1><font color="black" face="Arial Black"> Metodologia </font></h1>
<p>Para esta análise será utilizado o pacote <code>ExpDes.pt</code> para obter a ANOVA e demais resultados, além do software Rstudio.</p>
<section id="visualização-dos-10-primeiros-dados-do-banco-de-dados" class="level3">
<h3 class="anchored" data-anchor-id="visualização-dos-10-primeiros-dados-do-banco-de-dados"><font color="black" face="Arial Black"> Visualização dos 10 primeiros dados do Banco de Dados</font></h3>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">racao_Comun</th>
<th style="text-align: left;">Turno</th>
<th style="text-align: left;">mes</th>
<th style="text-align: right;">pasta_bovin</th>
<th style="text-align: right;">soja</th>
<th style="text-align: right;">rep</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">26</td>
<td style="text-align: left;">dia</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">tarde</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">33</td>
<td style="text-align: left;">dia</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">25</td>
<td style="text-align: left;">tarde</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">dia</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">34</td>
<td style="text-align: left;">tarde</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">28</td>
<td style="text-align: left;">dia</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">27</td>
<td style="text-align: left;">tarde</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">dia</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">32</td>
<td style="text-align: left;">tarde</td>
<td style="text-align: left;">primeiro mês</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="análise-descritiva" class="level2">
<h2 class="anchored" data-anchor-id="análise-descritiva"><font color="black" face="Arial Black"> Análise Descritiva </font></h2>
</section>
<section id="visualização-do-experimento" class="level2">
<h2 class="anchored" data-anchor-id="visualização-do-experimento"><font color="black" face="Arial Black"> Visualização do Experimento</font></h2>
<p>Aqui vemos o turno dado tipo de rações</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="DBC_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Aqui vemos os Rações dado o turno</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="DBC_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="teste-de-hipóteses" class="level3">
<h3 class="anchored" data-anchor-id="teste-de-hipóteses"><font color="black" face="Arial Black"> Teste de Hipóteses </font></h3>
<p><font color="black" face="Arial Black"> Hipóteses que queremos testar: </font></p>
<p><span class="math inline">\(H_0\)</span>: Não há diferença entre os Turnos(horários de coleta do leite das vacas) em relação a produtividade.<br>
<span class="math inline">\(H_1\)</span>: Há influência dos horários da coleta de leite na produtividade.</p>
<p><span class="math inline">\(H_0\)</span>:Não há diferença entre os blocos.<br>
<span class="math inline">\(H_1\)</span>: Há diferença entre os blocos.</p>
<p><span class="math inline">\(H_0\)</span>: Não há diferença entre os tipos de rações na produtividade.<br>
<span class="math inline">\(H_1\)</span>: Há diferença dos tipos de rações na produção.</p>
<p><span class="math inline">\(H_0\)</span>: A interação entre os tipos de rações e os horários de coleta do leite(turno) não é significativa.<br>
<span class="math inline">\(H_1\)</span>: A interação entre os tipos de rações e os horários de coleta do leite(turno) é significativa.</p>
</section>
</section>
</section>
<section id="criando-o-nosso-modelo" class="level1">
<h1><font color="black" face="Arial Black">Criando o nosso modelo</font></h1>
<p>Para criar o nosso modelo vamos utlizar a função <strong>aov()</strong> do pacote <strong>Stats</strong>, em sequência, utilizaremos o comando <strong>Summary</strong> para montagem do quadro da variância, popurlamente conhecido como quadro da Anova .</p>
<section id="hipóteses-da-anova" class="level3">
<h3 class="anchored" data-anchor-id="hipóteses-da-anova"><font color="black" face="Arial Black"> hipóteses da Anova </font></h3>
<p><span class="math inline">\(H_0 :\)</span> Não existe diferença entre os tratamentos para <span class="math inline">\(P \ge 0,05\)</span></p>
<p><span class="math inline">\(H_1 :\)</span> ao menos um dos tratamentos diferem entre si <span class="math inline">\(P &lt; 0,05\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(banco)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>dados1.av <span class="ot">=</span> <span class="fu">aov</span>(prod <span class="sc">~</span> tipos_rações<span class="sc">*</span>turno <span class="sc">+</span> <span class="fu">Error</span>(blocos<span class="sc">:</span>tipos_rações), <span class="at">data =</span> banco)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dados1.av) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Error: blocos:tipos_rações
             Df Sum Sq Mean Sq F value Pr(&gt;F)
tipos_rações  2  19952    9976   1.069  0.368
Residuals    15 140022    9335               

Error: Within
                     Df Sum Sq Mean Sq F value Pr(&gt;F)
turno                 1     10   9.823   1.706  0.192
tipos_rações:turno    2     23  11.484   1.995  0.137
Residuals          1059   6097   5.757               </code></pre>
</div>
</div>
<p>Aqui podemos ver o nosso primeiro modelo, é do tipo onde temos nossa variável resposta(oridução) sobre a interação dos tratamentos mais o erro de efeito de blocos associado ao tratamento primário</p>
<p>como podemos analisar o Pvalor que é resultado da comparação do valor F encontrado com os dados do experimento com o Ftabelado , ou seja , o R pega o valor encontrado de F e compara com o valor do Fpadrão(Ftabelado) considerando o nível de significancia de 5% e como podemos observar ,nosso Pvalor é maior que 0,05% ,logo, não há diferenças nos tratamentos há 95% de confiança.</p>
</section>
</section>
<section id="análise-de-resíduos" class="level1">
<h1><font color="black" face="Arial Black"> Análise de Resíduos </font></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dados.avb <span class="ot">=</span> <span class="fu">aov</span>(prod <span class="sc">~</span> tipos_rações<span class="sc">*</span>turno <span class="sc">+</span> blocos<span class="sc">*</span>tipos_rações<span class="sc">-</span>blocos,<span class="at">data =</span>banco)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dados.avb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      Df Sum Sq Mean Sq  F value Pr(&gt;F)    
tipos_rações           2  19952    9976 1732.751 &lt;2e-16 ***
turno                  1     10      10    1.706  0.192    
tipos_rações:turno     2     23      11    1.995  0.137    
tipos_rações:blocos   15 140022    9335 1621.343 &lt;2e-16 ***
Residuals           1059   6097       6                    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Podemos Observar que o fator Turno deu significativo logo pelo menos um dos tipos de ração diferentes entre si.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">bg =</span> <span class="st">'#9ac7db'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dados.avb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="DBC_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Os resíduos pelo os valores previstos , ele nos permite observar tanto a linearidade quanto a homocedasticidade , mas como verificamos se de fato o modelo é linear ? nos conseguimos a resposta olhando a linha vermelha traçada nesse primeiro gráfico(<strong>Residuals Vs Fited</strong>) , caso a linha vermelha esteja aparentimente horizontal então temos a linearidade, logo, em osso caso esse presuposto foi atendido. Outro ponto a se observar nesse gráfico é a homocedasticidade que nada mais é que a homogenidade das variâncias, caso exista homogenacidade nos dados veremos a dispersão dos pontos de forma aproximadamente constante ao longo dos valores previstos de Y(que está no eixo X), ou seja, teriamos uma dispersão aproximadamente regular em forma de retângulo ao longo do gráfico, perceba que esse é o nosso caso. Caso não exitesse homogenidade nos dados os valores formariam uma espécie de triângulo no gráfico.</p>
<p><strong>normal QQ=</strong> é o gráfico que nos permite ver sé os resíduos seguem distribuição normal, onde no eixo Y estão os resíduois padronizados e no eixo X os resíduos teóricos que seriam os resíduos esperados caso a distribuição fosse normal, para que os nosssos dados siga uma distruição normal, os valores devem estar em cima da linha pontilhada, embora nem todos estejam em cima da linha, podemos considerar que está apróximadamente normal, caso não fosse atendido, estes pontos aprensentaria um formato de curva .</p>
<p><strong>Scale_Location =</strong> é o gráfico mais recomendado para ver a homogenacidade , caso exista homogenacidade a linha vermelha deve estar aproximadamente horizontal , que é nosso casso</p>
<p><strong>Residuals vs factor levals=</strong>Pode ser útil para detectar a presença de pontos influenciantes. No nosso caso, não temos presença de infuenciadores, umas vez que a linha vermelha, a qual indica essa presença, tem como valor de resíduo igual a zero.</p>
<section id="teste-de-normalidade-dos-residuos-shapiro-wilk" class="level3">
<h3 class="anchored" data-anchor-id="teste-de-normalidade-dos-residuos-shapiro-wilk"><font color="black" face="Arial Black">Teste de normalidade dos residuos ( Shapiro-Wilk ) </font></h3>
<p>Vamos começar analisando o resultado do teste de normalidade de resíduos (Shapiro-Wilk)</p>
</section>
<section id="hipóteses" class="level2">
<h2 class="anchored" data-anchor-id="hipóteses"><font color="black" face="Arial Black">hipóteses:</font></h2>
<p><span class="math inline">\(H_0 :\)</span> existe normalidade nos resíduos para <span class="math inline">\(P \ge 0,05\)</span></p>
<p><span class="math inline">\(H_1 :\)</span> não existe normalidade dos resíduos <span class="math inline">\(P &lt; 0,05\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(dados.avb<span class="sc">$</span>residuals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  dados.avb$residuals
W = 0.99325, p-value = 8.042e-05</code></pre>
</div>
</div>
<p>Como o <span class="math inline">\(P_{valor}&lt; 0,05\)</span> , rejeita-se a hipótese nula . Nesse sentido, temos que não existe normalidade nos resíduos.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "28" "52"</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="DBC_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "903" "959" "28"  "52" </code></pre>
</div>
</div>
<p>Aqui temos a comparação das médias, perceba que quando olhamos os fatores individualmente os dados não apresentam valores extremos(outliers), isso muda quando passamos analisar a interação entre eles(último gráfico).</p>
</section>
</section>
<section id="analisando-o-resultado-do-teste-de-homogenidadebartlett" class="level1">
<h1><font color="black" face="Arial Black">Analisando o resultado do teste de homogenidade(bartlett) </font></h1>
<section id="hipóteses-1" class="level2">
<h2 class="anchored" data-anchor-id="hipóteses-1"><font color="black" face="Arial Black">hipóteses:</font></h2>
<p><span class="math inline">\(H_0 :\)</span> existe homogenidade na variância para <span class="math inline">\(P \ge 0,05\)</span></p>
<p><span class="math inline">\(H_1 :\)</span> não existe homogenidade na variância <span class="math inline">\(P &lt; 0,05\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bartlett.test</span>(dados.avb<span class="sc">$</span>residuals, turno)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Bartlett test of homogeneity of variances

data:  dados.avb$residuals and turno
Bartlett's K-squared = 2.4857, df = 1, p-value = 0.1149</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bartlett.test</span>(dados.avb<span class="sc">$</span>residuals, tipos_rações)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Bartlett test of homogeneity of variances

data:  dados.avb$residuals and tipos_rações
Bartlett's K-squared = 2.6108, df = 2, p-value = 0.2711</code></pre>
</div>
</div>
<p>De acordo com o teste de bartlett a 5% de significância, não rejeita-se a hipótese nula, logo, as variâncias podem ser consideradas homogêneas.</p>
<section id="análise-utilizando-o-pacote-expdes.pt" class="level3">
<h3 class="anchored" data-anchor-id="análise-utilizando-o-pacote-expdes.pt"><font color="black" face="Arial Black"> Análise utilizando o pacote <code>ExpDes.pt</code> </font></h3>
<p>Para realiza o dbC(<strong>O delineamento em blocos casualizado</strong> ) vamos utilizar a função <strong>psub2.dbc</strong> da biblioteca <strong>ExpDes.pt</strong> onde <strong>tipos_rações</strong> é os tipos de rações , e <strong>turno</strong> é os os turnos do dia em que ocorreram coleta do leite, <strong>blocos</strong> são as repetições do experimento, <strong>prod</strong> são os valores observados <strong>mcomp=</strong> com o argumento “Tukey” para observar qual a fator teve um melhor desempenho na produção do leite, <strong>psub2.dbc</strong> considera o nível de significancia de 0,05% para a execução do teste .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(ExpDes.pt)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">psub2.dbc</span>(tipos_rações, turno, blocos, prod, <span class="at">quali =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>),<span class="at">mcomp =</span> <span class="st">"tukey"</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">fac.names =</span> <span class="fu">c</span>(<span class="st">"rações"</span>, <span class="st">"turno"</span>), <span class="at">sigF =</span> <span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>------------------------------------------------------------------------
Legenda:
FATOR 1 (parcela):  rações 
FATOR 2 (subparcela):  turno 
------------------------------------------------------------------------

------------------------------------------------------------------------
Quadro da analise de variancia
------------------------------------------------------------------------
               GL     SQ      QM     Fc Pr(&gt;Fc)    
rações          2  19952  9976.2 133.38  &lt;2e-16 ***
Bloco           5 139274 27854.7 372.41  &lt;2e-16 ***
Erro a         10    748    74.8                   
turno           1     10     9.8   1.71  0.1918    
rações*turno    2     23    11.5   1.99  0.1366    
Erro b       1059   6097     5.8                   
Total        1079 166104                           
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
------------------------------------------------------------------------
CV 1 = 35.29839 %
CV 2 = 9.793368 %

Interacao nao significativa: analisando os efeitos simples
------------------------------------------------------------------------
rações
Teste de Tukey
------------------------------------------------------------------------
Grupos Tratamentos Medias
a    soja    28.02778 
a    pasta bovina    27.025 
 b   ração comun     18.45 
------------------------------------------------------------------------

turno
De acordo com o teste F, as medias desse fator sao estatisticamente iguais.
------------------------------------------------------------------------
  Niveis   Medias
1    dia 24.40556
2  tarde 24.59630
------------------------------------------------------------------------</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="comparação-das-médias-para-turno" class="level1">
<h1><font color="black" face="Arial Black"> Comparação das médias para turno </font></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>media_t<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"media_turno.xlsx"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>media_t <span class="sc">%&gt;%</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0ff2f22ce66e65147f43" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0ff2f22ce66e65147f43">{"x":{"filter":"none","vertical":false,"data":[["1","2"],["dia","tarde"],["24.40","24.59"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Niveis<\/th>\n      <th>Médias<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Niveis","targets":1},{"name":"Médias","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>segundo o teste F as médias dos níveis do fator Turno foram iguais,como não temos diferença significativa pelo teste f,logo ,as médias dos níveis do fator são estatisticamente iguais.</p>
</section>
<section id="comparação-das-médias-para-raçãoes" class="level1">
<h1><font color="black" face="Arial Black"> Comparação das médias para raçãoes </font></h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>media_R<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"media_rações.xlsx"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>media_R <span class="sc">%&gt;%</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3a6e4b29409bba9c4e03" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3a6e4b29409bba9c4e03">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["a","a","b"],["soja","pasta bovina","ração comum"],[28.028,27.025,18.45]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>grupos<\/th>\n      <th>Tratamentos<\/th>\n      <th>Medias<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"grupos","targets":1},{"name":"Tratamentos","targets":2},{"name":"Medias","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>podemos perceber que temos diferenças nos níveis do fator tipo de rações pelo teste F, logo, pelo o teste de tukey(comparação de médias) temos que soja e pasta bovina apresentaram os melhores resultados.</p>
</section>
<section id="conclusão" class="level1">
<h1><font color="black" face="Arial Black"> Conclusão </font></h1>
<p>Pela análise de variâncias as interações entre os fatores não foram significativas , assim como o fator turno(horário da coleta do leite ) também não foi significativo na produção,apenas o fator ração foi de fato significativo na produção, tendo a pasta bovina e a soja o mesmo efeito na produção do leite .</p>
</section>
<section id="referências" class="level1">
<h1><font color="black" face="Arial Black"> Referências </font></h1>
<p>Depto. de Ciências Exatas-UFLA, C.P. 37, CEP: 37200-000 - Lavras, MG. São Paulo - Escola Superior de Agricultura “Luiz de Queiroz”. EXPERIMENTOS EM PARCELAS SUBDIVIDIDAS COM TRATAMENTOS PRIMÁRIOS EM BLOCOS INCOMPLETOS PARCIALMENTE BALANCEADOS: II. ANÁLISE INTRABLOCOS . A.R. de MORAIS2; M.C.S. NOGUEIRA3, Jan 1996, DISPONÍVEL EM: <a href="https://www.scielo.br/j/sa/a/LBrHXVfgRfhnH9SDxM9XpsJ/?lang=pt" class="uri">https://www.scielo.br/j/sa/a/LBrHXVfgRfhnH9SDxM9XpsJ/?lang=pt</a></p>
</section>
<section id="acesse-meus-outros-projetos" class="level1">
<h1><font color="black" face="Arial Black"> Acesse meus outros projetos : </font></h1>
<p>Relatório sobre os testes paramétricos e não paramétricos :</p>
<!--  <a href="https://josefersonbarreto.github.io/relatorio-testes-nao-parametricos"> -->
<!--   <img -->
<!--     src="C:/Users/josef/Downloads/WhatsApp Image 2021-12-23 at 16.01.24.jpeg" -->
<!--     width="500" -->
<!--     height="200" -->
<!--   /> -->
<!-- </a>  -->
<!-- Análise Exploratória na linguagem  Python : -->
<!--  <a href="https://josefersonbarreto.github.io/exploratoriaPY/"> -->
<!--   <img -->
<!--     src="C:/Users/josef/Downloads/WhatsApp Image 2021-12-23 at 16.04.50.jpeg" -->
<!--     width="500" -->
<!--     height="200" -->
<!--   /> -->
<!-- </a>  -->
<!-- ::: -->
<p></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>